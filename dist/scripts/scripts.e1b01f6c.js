"use strict";angular.module("feedbackmeWebApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/user/:username",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).otherwise({redirectTo:"/about"})}]),angular.module("feedbackmeWebApp").controller("MainCtrl",["$scope","$http","$routeParams",function(a,b,c){a.feedback={feedbackText:"",author:""},a.message="",a.showMessage=!1,a.validationErrors=[],a.feedbacks=[];var d="https://f33dbackme.herokuapp.com/"+c.username+"/feedbacks",e=function(){b.get(d).success(function(b){a.feedbacks=b}).error(function(){a.message="Problem retrieving feedbacks",a.showMessage=!0})};e(),a.provideFeedback=function(){a.showMessage=!1,b.post(d,a.feedback).success(function(){a.validationErrors=[],a.message="Feedback sent",a.showMessage=!0,f(),e()}).error(function(b){b?a.validationErrors=b:a.validationErrors=[{message:"problem while sending feedback"}]})},a.hasValidationErrors=function(){return a.validationErrors.length>0};var f=function(){a.feedback.feedbackText="",a.feedback.author=""}}]),angular.module("feedbackmeWebApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("feedbackmeWebApp").run(["$templateCache",function(a){a.put("views/about.html",'<h1>This is a prototype</h1> <p>To provide feedback for a user, access his url</p> <p>https://f33dbackmeweb.herokuapp.com/user/&#60;&#60;username&#62;&#62;</p> <p>Example: <a href="https://f33dbackmeweb.herokuapp.com/user/ronualdo/feedbacks"> https://f33dbackmeweb.herokuapp.com/user/ronualdo/feedbacks </a> </p>'),a.put("views/main.html",'<div class="alert alert-info" ng-show="hasValidationErrors()"> <ul> <li ng-repeat="validationError in validationErrors"> {{validationError.field}} {{validationError.message}} </li> </ul> </div> <div class="alert alert-info" ng-show="showMessage"> {{ message }} </div> <div class="panel panel-default"> <div class="panel-body"> <form ng-submit="provideFeedback()"> <fieldset class="form-group"> <label for="feedback">Feedback: </label> <textarea class="form-control" id="feedback" rows="3" ng-model="feedback.feedbackText"></textarea> </fieldset> <fieldset class="form-group"> <label for="author">Author: </label> <input type="text" id="author" ng-model="feedback.author"> </fieldset> <button type="submit" class="btn btn-primary">Submit</button> </form> </div> </div> <div> <ul class="list-group"> <li class="list-group-item" ng-repeat="feedback in feedbacks"> {{feedback.feedbackText}} </li> </ul> </div>')}]);